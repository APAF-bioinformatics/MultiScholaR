% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_metab_design_builder.R
\name{metabolomicsDesignMatrixBuilderModule}
\alias{metabolomicsDesignMatrixBuilderModule}
\alias{mod_metab_design_builder_ui}
\alias{mod_metab_design_builder_server}
\title{Metabolomics Design Matrix Builder Module}
\usage{
mod_metab_design_builder_ui(id)

mod_metab_design_builder_server(
  id,
  data_tbl,
  config_list,
  column_mapping,
  existing_design_matrix = NULL,
  existing_contrasts = NULL
)
}
\arguments{
\item{id}{Module ID.}

\item{data_tbl}{A reactive expression that returns the data table LIST.}

\item{config_list}{A reactive expression that returns the main configuration list.}

\item{column_mapping}{A reactive expression that returns the column mapping list.}

\item{existing_design_matrix}{Optional reactive expression that returns an existing
design matrix (e.g., from "Import Existing Design"). If provided and has valid
group assignments, will be used instead of creating a fresh matrix.}

\item{existing_contrasts}{Optional reactive expression that returns an existing
contrasts table (e.g., from "Import Existing Design").}
}
\value{
A reactive expression that returns a list containing the results
when the "Save" button is clicked. The list includes:
\itemize{
\item \code{design_matrix}: The final, filtered design matrix.
\item \code{data_cln}: The data table LIST, filtered to include only assigned samples.
\item \code{contrasts_tbl}: A data frame of the defined contrasts.
\item \code{config_list}: The updated configuration list with the new formula.
}

A fluidPage containing the UI for the design matrix builder.
}
\description{
A Shiny module to build a design matrix for metabolomics experiments.
This module is 1:1 with the proteomics design builder (mod_prot_design_builder.R),
with the key difference that metabolomics data is stored as a LIST of assays
(e.g., LCMS_Pos, LCMS_Neg) where samples are COLUMN NAMES, not row values.
}
\note{
\strong{ARCHITECTURAL EXCEPTION}: This module is designed as a standalone component
callable from R Markdown workflows, not integrated into the main Shiny app workflow.
Therefore, it returns \code{fluidPage()} instead of \code{tagList()}, and uses reactive expressions
instead of \code{workflow_data} for state management. This is an intentional deviation from
the standard Golem module pattern.
}
