% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/file_management.R
\name{formatDIANNParquet}
\alias{formatDIANNParquet}
\title{Convert limpa EList object to standard DIA-NN format}
\usage{
formatDIANNParquet(data_tbl_parquet_filt)
}
\arguments{
\item{data_tbl_parquet_filt}{A limpa EList object containing:
\itemize{
\item \code{E}: Intensity matrix with precursor IDs as rownames
\item \code{genes}: Data frame with gene/protein annotations including columns like
Protein.Group, Protein.Names, Genes, etc.
}}
}
\value{
A data frame in DIA-NN report format containing:
\itemize{
\item File identification: \code{File.Name}, \code{Run}
\item Protein information: \code{Protein.Group}, \code{Protein.Ids}, \code{Protein.Names}, \code{Genes}
\item Quantification data: \code{PG.Quantity}, \code{PG.Normalised}, \code{PG.MaxLFQ},
\code{Genes.Quantity}, \code{Genes.Normalised}, \code{Genes.MaxLFQ}, etc.
\item Precursor details: \code{Modified.Sequence}, \code{Stripped.Sequence},
\code{Precursor.Id}, \code{Precursor.Charge}, \code{Precursor.Quantity}
\item Quality metrics: \code{Q.Value}, \code{PEP}, \code{Global.Q.Value}, etc.
\item Technical parameters: \code{RT}, \code{IM}, \code{Evidence}, etc.
}
}
\description{
Converts a limpa EList object (typically from processed proteomics data)
into the standard DIA-NN report format. This function extracts intensity matrices
and gene annotations, then restructures the data to match DIA-NN output conventions.
}
\details{
This function performs several key transformations:
\itemize{
\item Extracts log2 intensity data and converts to linear scale
\item Converts wide-format intensity matrix to long format
\item Joins intensity data with protein/gene annotations
\item Extracts precursor sequence and charge information from precursor IDs
\item Sets reasonable default values for quality metrics (since input data is pre-filtered)
\item Reorders columns to match standard DIA-NN report structure
}
}
\note{
The function assumes that precursor IDs contain charge information as a suffix
(e.g., "PEPTIDE123" where "123" is the charge). Quality metrics are set to
conservative default values since the input data is typically pre-filtered.
}
