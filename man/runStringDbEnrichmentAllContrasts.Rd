% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/func_multiomics_enrich.R,
%   R/string_enrichment_functions_refactored.R
\name{runStringDbEnrichmentAllContrasts}
\alias{runStringDbEnrichmentAllContrasts}
\title{Run STRING DB Enrichment for All Contrasts}
\usage{
runStringDbEnrichmentAllContrasts(
  de_analysis_results_list,
  project_dirs,
  omic_type,
  experiment_label,
  api_key = "bjcR4Px5rByQ",
  species = "9606",
  ge_fdr = 0.05,
  ge_enrichment_rank_direction = -1,
  polling_interval_seconds = 10,
  max_polling_attempts = 30,
  force_refresh = FALSE,
  comparison_name_transform = NULL
)

runStringDbEnrichmentAllContrasts(
  de_analysis_results_list,
  project_dirs,
  omic_type,
  experiment_label,
  api_key = "bjcR4Px5rByQ",
  species = "9606",
  ge_fdr = 0.05,
  ge_enrichment_rank_direction = -1,
  polling_interval_seconds = 10,
  max_polling_attempts = 30,
  force_refresh = FALSE,
  comparison_name_transform = NULL
)
}
\arguments{
\item{de_analysis_results_list}{A named list containing differential expression results.
Each element should contain a \code{de_proteins_long} data frame with columns:
\code{log2FC}, \code{fdr_qvalue}, and \code{Protein.Ids}.}

\item{project_dirs}{A list containing project directory structure. Must include
an element named \code{paste0(omic_type, "_", experiment_label)} with a \code{results_dir} component.}

\item{omic_type}{Character string: The omics type (e.g., "proteomics", "transcriptomics").}

\item{experiment_label}{Character string: The experiment label for directory construction.}

\item{api_key}{Character string: Your personal STRING API key. Default is "bjcR4Px5rByQ".}

\item{species}{Character or numeric: NCBI/STRING species identifier. Default is "9606" (Homo sapiens).
This parameter can be set to the taxon_id variable defined in your environment.}

\item{ge_fdr}{Numeric: FDR threshold for gene expression enrichment. Default is 0.05.}

\item{ge_enrichment_rank_direction}{Integer: Direction for enrichment rank
(-1, 0, or 1). Default is -1.}

\item{polling_interval_seconds}{Numeric: Seconds to wait between polling attempts.
Default is 10.}

\item{max_polling_attempts}{Numeric: Maximum polling attempts. Default is 30.}

\item{force_refresh}{Logical: If TRUE, forces re-running the analysis even if
cached results exist. Default is FALSE.}

\item{comparison_name_transform}{Function: Optional function to transform contrast names
for display in the comparison column. Default is NULL (uses simple transformation).}
}
\value{
A data frame containing enrichment results for all contrasts with columns:
\itemize{
\item \code{comparison}: The contrast name (transformed)
\item All columns returned by STRING DB enrichment analysis
}

A data frame containing enrichment results for all contrasts with columns:
\itemize{
\item \code{comparison}: The contrast name (transformed)
\item All columns returned by STRING DB enrichment analysis
}
}
\description{
Executes STRING DB enrichment analysis for all contrasts in a differential expression
analysis results list. Results are cached to avoid redundant API calls. If a cached
result file exists, it will be loaded instead of re-running the analysis.

Executes STRING DB enrichment analysis for all contrasts in a differential expression
analysis results list. Results are cached to avoid redundant API calls. If a cached
result file exists, it will be loaded instead of re-running the analysis.
}
\details{
This function:
\enumerate{
\item Checks for cached results in \code{{pathway_dir}/string_db/all_enrichment_results.rds}
\item If cache exists and \code{force_refresh = FALSE}, loads and returns cached results
\item If cache doesn't exist or \code{force_refresh = TRUE}, runs enrichment for all contrasts
\item Saves results to both RDS (for caching) and TSV (for inspection) formats
}

Results are saved to the pathway enrichment directory structure defined in \code{setupDirectories()}.
The directory structure is automatically created if it doesn't exist.

This function:
\enumerate{
\item Checks for cached results in \code{{pathway_dir}/string_db/all_enrichment_results.rds}
\item If cache exists and \code{force_refresh = FALSE}, loads and returns cached results
\item If cache doesn't exist or \code{force_refresh = TRUE}, runs enrichment for all contrasts
\item Saves results to both RDS (for caching) and TSV (for inspection) formats
}

Results are saved to the pathway enrichment directory structure defined in \code{setupDirectories()}.
The directory structure is automatically created if it doesn't exist.
}
\examples{
\dontrun{
# Run enrichment for all contrasts
all_enrichment_results <- runStringDbEnrichmentAllContrasts(
  de_analysis_results_list = my_de_results,
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard",
  api_key = "YOUR_API_KEY",
  species = taxon_id  # Use taxon_id from your environment
)

# Force refresh of cached results
refreshed_results <- runStringDbEnrichmentAllContrasts(
  de_analysis_results_list = my_de_results,
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard",
  api_key = "YOUR_API_KEY",
  species = taxon_id,
  force_refresh = TRUE
)
}

\dontrun{
# Run enrichment for all contrasts
all_enrichment_results <- runStringDbEnrichmentAllContrasts(
  de_analysis_results_list = my_de_results,
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard",
  api_key = "YOUR_API_KEY",
  species = taxon_id  # Use taxon_id from your environment
)

# Force refresh of cached results
refreshed_results <- runStringDbEnrichmentAllContrasts(
  de_analysis_results_list = my_de_results,
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard",
  api_key = "YOUR_API_KEY",
  species = taxon_id,
  force_refresh = TRUE
)
}

}
