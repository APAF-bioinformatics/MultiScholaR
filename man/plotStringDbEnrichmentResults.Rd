% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/string_enrichment_functions_refactored.R
\name{plotStringDbEnrichmentResults}
\alias{plotStringDbEnrichmentResults}
\title{Plot STRING DB Functional Enrichment Results}
\usage{
plotStringDbEnrichmentResults(
  project_dirs,
  omic_type,
  experiment_label,
  enrichment_results = NULL,
  top_n_terms = 5,
  word_limit = 7,
  plot_width = 16,
  plot_height = 12,
  plot_dpi = 300,
  save_plots = TRUE,
  return_plots = TRUE,
  print_plots = TRUE
)
}
\arguments{
\item{project_dirs}{A list containing project directory structure. Must include
an element named \code{paste0(omic_type, "_", experiment_label)} with a \code{results_dir} component.}

\item{omic_type}{Character string: The omics type (e.g., "proteomics", "transcriptomics").}

\item{experiment_label}{Character string: The experiment label for directory construction.}

\item{enrichment_results}{Data frame: Optional pre-loaded enrichment results.
If NULL (default), will attempt to load from cache file.}

\item{top_n_terms}{Integer: Number of top terms to include per category and comparison.
Default is 5.}

\item{word_limit}{Integer: Maximum number of words in term descriptions before truncation.
Default is 7.}

\item{plot_width}{Numeric: Width of output plots in inches. Default is 16.}

\item{plot_height}{Numeric: Height of output plots in inches. Default is 12.}

\item{plot_dpi}{Numeric: DPI resolution for PNG output. Default is 300.}

\item{save_plots}{Logical: Whether to save plots to files. Default is TRUE.}

\item{return_plots}{Logical: Whether to return plot objects in a list. Default is TRUE.}

\item{print_plots}{Logical: Whether to print plots to graphics device. Default is TRUE.}
}
\value{
A list containing:
\itemize{
\item \code{filtered_results}: The filtered enrichment results data frame
\item \code{plots}: A named list of ggplot objects (if \code{return_plots = TRUE}):
\itemize{
\item \code{go_terms}: Plot of Gene Ontology terms
\item \code{pathways}: Plot of pathway enrichment (KEGG, Reactome, WikiPathways, STRING clusters)
\item \code{protein_domains}: Plot of protein domain enrichment (InterPro, Pfam, SMART)
\item \code{others}: Plot of other enrichment categories
Returns NULL if cached results file is not found.
}
}
}
\description{
Loads cached STRING DB enrichment results, filters to top terms per category,
and generates publication-quality plots organized by functional category groups.
Creates separate plots for Gene Ontology terms, pathways, protein domains, and other categories.
}
\details{
This function:
\enumerate{
\item Loads cached enrichment results from \code{{pathway_dir}/string_db/all_enrichment_results.rds}
\item Filters to the top N terms per category and comparison based on enrichmentScore and falseDiscoveryRate
\item Saves filtered results to TSV file
\item Generates four separate plots organized by category type:
\itemize{
\item \strong{GO Terms}: Gene Ontology (Biological Process, Molecular Function, Cellular Component)
\item \strong{Pathways}: KEGG, Reactome, WikiPathways, STRING clusters
\item \strong{Protein Domains}: InterPro, Pfam, SMART
\item \strong{Others}: All remaining categories
}
\item Saves plots as both PNG and PDF formats
}

Results are loaded from and saved to the pathway enrichment directory structure defined in \code{setupDirectories()}.
All plots use the \code{printStringDbFunctionalEnrichmentBarGraph} function for consistent
visualization with faceting by category and comparison.
}
\examples{
\dontrun{
# Plot enrichment results with default settings
plot_results <- plotStringDbEnrichmentResults(
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard"
)

# Access individual plots
print(plot_results$plots$go_terms)
print(plot_results$plots$pathways)

# Use custom filtering and plotting parameters
custom_plots <- plotStringDbEnrichmentResults(
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard",
  top_n_terms = 10,
  word_limit = 10,
  plot_width = 20,
  plot_height = 14,
  save_plots = FALSE,
  print_plots = FALSE
)

# Use pre-loaded enrichment results
my_results <- readRDS("path/to/enrichment_results.rds")
plots <- plotStringDbEnrichmentResults(
  enrichment_results = my_results,
  project_dirs = project_dirs,
  omic_type = "proteomics",
  experiment_label = "standard"
)
}

}
