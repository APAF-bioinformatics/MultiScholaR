---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
#Test if BioManager is installed
if (!requireNamespace("BiocManager", quietly = TRUE)) {
  install.packages("BiocManager")
  BiocManager::install()
}

# load pacman package manager
if (!require(pacman)) {
  install.packages("pacman")
  library(pacman)
}

p_load(Glimma)
p_load(tidyverse)
p_load(ProteomeRiver)
```

```{r}

eb.fit <- readRDS( "/home/ignatius/PostDoc/2021/Podocyte_2021/Results/Part_1/de_analysis/fit.eb.RDS")

phos_output_dir <- "/home/ignatius/PostDoc/2021/Podocyte_2021/Results/Part_1/phos_plots"

phos_annot_tbl <- vroom::vroom("/home/ignatius/PostDoc/2021/Podocyte_2021/Results/Part_1/norm_phos_by_prot_abundance/norm_phosphosite_lfc_minus_protein_lfc_annotated.tsv")

phos_basic_tbl <- vroom::vroom("/home/ignatius/PostDoc/2021/Podocyte_2021/Results/Part_1/norm_phos_by_prot_abundance/norm_phosphosite_lfc_minus_protein_lfc_basic.tsv")

```


```{r}

purrr::walk( unique( phos_tbl$comparison), 
             ~interactivePlotsPhosNorm(phos_annot_tbl, ., output_dir=phos_output_dir))


```


















